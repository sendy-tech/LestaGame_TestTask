# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è Lesta Game Start


### üìÑ–û–ø–∏—Å–∞–Ω–∏–µ
–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ. –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ –∏–∑ 50 —Å–ª–æ–≤ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º IDF, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∫–∞–∑–∞–Ω–æ:
- –°–ª–æ–≤–æ
- TF (—á–∞—Å—Ç–æ—Ç–∞ –≤—Å—Ç—Ä–µ—á–∞–µ–º–æ—Å—Ç–∏ –≤ —Ç–µ–∫—Å—Ç–µ)
- IDF (–æ–±—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞)

### ‚öôÔ∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- FastAPI 0.115.0
- Jinja2 3.1.6
- Python-multipart 0.0.20
- Psycopg2-binary 2.9.10
- Python-dotenv 1.0.1
- Uvicorn 0.32.1
- SQLAlchemy 2.0.30
- asyncpg 0.29.0
- PostgreSQL 15

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
project/<br />
‚îú‚îÄ‚îÄ app/  <span style="color:green"># –û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_services.py<span style="color:green"># –§—É–Ω–∫—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞</span><br />
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dependencies.py<span style="color:green"># –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ crud/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collection_crud.py<span style="color:green"># CRUD –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ document_crud.py<span style="color:green"># CRUD –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º</span><br />
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_crud.py<span style="color:green"># CRUD –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py<span style="color:green"># –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collection.py<span style="color:green"># –ú–æ–¥–µ–ª—å –∫–æ–ª–ª–µ–∫—Ü–∏–π</span><br />
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ document.py<span style="color:green"># –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api_routes.py<span style="color:green"># –†–æ—É—Ç—ã –¥–ª—è API</span><br />
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ html_routes.py<span style="color:green"># –†–æ—É—Ç—ã –¥–ª—è web</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ static/ <span style="color:green"># –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 404img.png<span style="color:green"># –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã 404</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logo.gif<span style="color:green"># gif –∞–Ω–∏–º–∞—Ü–∏—è –≤ —à–∞–ø–∫–µ —Å–∞–π—Ç–∞</span><br />
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.css <span style="color:green"># –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∏–ª–µ–π</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ templates/ <span style="color:green"># –ü–∞–ø–∫–∞ —Å HTML-—à–∞–±–ª–æ–Ω–∞–º–∏</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 404.html <span style="color:green"># –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ 404 —Ñ–∞–π–ª–∞</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ account.html <span style="color:green"># –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–∫–∫–∞—É–Ω—Ç–∞</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.html <span style="color:green"># –°—Ç—Ä–∞–Ω–∏—Ü–∞-–æ—Å–Ω–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü —Ñ–∞–π–ª–∞</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html <span style="color:green"># –ù–∞—á–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.html <span style="color:green"># –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–∫–∫–∞—É–Ω—Ç</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ myfiles.html <span style="color:green"># –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span><br />
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ output.html <span style="color:green"># –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞</span><br />
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register.html <span style="color:green"># –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ database.py <span style="color:green"># –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ main.py <span style="color:green"># –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FastAPI</span><br />
‚îÇ   ‚îú‚îÄ‚îÄ s—Åhemas.py <span style="color:green"># Pydantic-—Å—Ö–µ–º—ã</span><br />
‚îÇ   ‚îî‚îÄ‚îÄ services.py <span style="color:green"># –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞</span><br />
‚îú‚îÄ‚îÄ .env <span style="color:green"># –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è</span><br />
‚îú‚îÄ‚îÄ .gitignore<span style="color:green"># –£–∫–∞–∑–∞–Ω–∏–µ Git –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤</span><br />
‚îú‚îÄ‚îÄ compose.yaml <span style="color:green"># Docker Compose –¥–ª—è –∑–∞–ø—É—Å–∫–∞</span><br />
‚îú‚îÄ‚îÄ Dockerfile <span style="color:green"># –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</span><br />
‚îú‚îÄ‚îÄ init_db.py <span style="color:green"> # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</span><br />
‚îú‚îÄ‚îÄ README.md <span style="color:green"># –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞</span><br />
‚îú‚îÄ‚îÄ README_OPENAPI_CLIENT.md <span style="color:green"># –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ OpenAPI –∫–ª–∏–µ–Ω—Ç–∞</span><br />
‚îú‚îÄ‚îÄ requirements.txt <span style="color:green"># –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python</span><br />
‚îî‚îÄ‚îÄ wait-for-postgres.sh<span style="color:green"> # –°–∫—Ä–∏–ø—Ç –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–ø—É—Å–∫–∞ PostgreSQL</span><br />

### Project run

- Run the application:  
```bash
docker-compose up --build
```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

## üìä –ú–µ—Ç—Ä–∏–∫–∏
–î–æ—Å—Ç—É–ø–Ω—ã –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É api/metrics. –ü—Ä–∏–º–µ—Ä:

```json
{
  "total_uploads": 3,
  "unique_words": 178,
  "documents":8,
  "collections":2
}
```
### üîÅ –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–í–µ—Ä—Å–∏—è: 0.0.2<br />
–≠–Ω–¥–ø–æ–∏–Ω—Ç: /version

## üìë Swagger / OpenAPI

Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:8000/docs](http://localhost:8000/docs)

## üìå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

### üîê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

- `POST /api/login` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –ª–æ–≥–∏–Ω—É –∏ –ø–∞—Ä–æ–ª—é
- `POST /api/register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/logout` ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ (—É–¥–∞–ª–µ–Ω–∏–µ cookie)
- `PATCH /api/user/{user_id}` ‚Äî —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- `DELETE /api/user/{user_id}` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### üìÑ –î–æ–∫—É–º–µ–Ω—Ç—ã

- `GET /api/documents` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `GET /api/documents/{document_id}` ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `GET /api/documents/{document_id}/statistics` ‚Äî TF/IDF —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É
- `DELETE /api/documents/{document_id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç

### üìö –ö–æ–ª–ª–µ–∫—Ü–∏–∏

- `GET /api/collections` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- `GET /api/collections/{collection_id}` ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- `GET /api/collections/{collection_id}/statistics` ‚Äî TF/IDF —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- `POST /api/collection/{collection_id}/{document_id}` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é
- `DELETE /api/collection/{collection_id}/{document_id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

### üìù CHANGELOG
#### –í–µ—Ä—Å–∏—è 0.0.1
#### ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

- –†–∞—Å—á—ë—Ç TF –∏ –ø—Å–µ–≤–¥–æ-IDF

- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 50 —Å–ª–æ–≤ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º IDF

- –ó–∞–ø—É—Å–∫ –∫–∞–∫ Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### üÜï –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π:

- –î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç /status, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç /version, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–π –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- üìä –î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç /metrics –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∑–æ–∫ –∏ —á–∏—Å–ª–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–æ–≤

- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ .env –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- üê≥ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ compose.yaml

- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ—Ä—Ç–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

- –û–±–Ω–æ–≤–ª—ë–Ω README.md —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

- üê≥ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

### –í–µ—Ä—Å–∏—è 0.0.2

- –î–æ–±–∞–≤–ª–µ–Ω Swagger-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`/docs`)
- –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π:
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –î–æ–∫—É–º–µ–Ω—Ç, –ö–æ–ª–ª–µ–∫—Ü–∏—è, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è, —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Python-–∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ OpenAPI
